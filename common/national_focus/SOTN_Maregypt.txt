focus_tree = {
	id = SOTN_MGY_Tree
	country = {
		factor = 0
		modifier = {
			add = 1000
			tag = MGY
		}
	}
	default = no
	continuous_focus_position = {
		x = 2500
		y = 2500
	}

	initial_show_position = {
		focus = SOTN_KingSpeech
	}

	#
	# INITIAL POLITICS FOCUS TREE
	#

	focus = { 
		id = SOTN_KingSpeech
		icon = GFX_SOTN_KingSpeech
		cost = 6
		x = 4
		y = -1
		relative_position_id = SOTN_EconomyBudget
		cancelable = no
		available = {
			custom_trigger_tooltip = {
				tooltip = SOTN_EventCompletion_tt
				always = no
			}			
		}
		bypass = {
			
		}
		select_effect = {
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_KingSpeech"
		}
	}
	
	focus = {
		id = SOTN_HarmonySociety
		icon = GFX_SOTN_HarmonySociety
		cost = 6
		x = -1
		y = 1
		relative_position_id = SOTN_KingSpeech
		prerequisite = {
			focus = SOTN_KingSpeech
		}
		available = {
			NOT = {
				has_government = communism
			}
			OR = {
				SOTN_HasShaaDoof_Vizier_trigger = yes
				SOTN_HasAhhotep_Vizier_trigger = yes
				SOTN_HasNeighSer_Vizier_trigger = yes
			}
			has_idea = SOTN_ScarsOfTheJulyUprising
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_HarmonySociety"
			add_popularity = {
				ideology = democratic
				popularity = 0.02
			}
			custom_effect_tooltip = SOTN_doublespace
			swap_ideas = {
				remove_idea = SOTN_ScarsOfTheJulyUprising
				add_idea = SOTN_LotusSociety
			}
		}
		allow_branch = {
			
		}
		mutually_exclusive = {
			focus = SOTN_OpenSociety
		}
	}
	focus = {
		id = SOTN_OpenSociety
		icon = GFX_SOTN_OpenSociety
		cost = 6
		x = 1
		y = 1
		relative_position_id = SOTN_KingSpeech
		prerequisite = {
			focus = SOTN_KingSpeech
		}
		available = {
			NOT = {
				has_government = neutrality
			}
			NOT = {
				has_government = fascism
			}
			NOT = {
				SOTN_HasAhhotep_Vizier_trigger = yes
			}
			NOT = {
				has_completed_focus = SOTN_ManephisDecree
			}
			has_idea = SOTN_ScarsOfTheJulyUprising
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_OpenSociety"
			country_event = SOTN_MgyFlavour.7
			custom_effect_tooltip = SOTN_doublespace
			remove_ideas = {
				SOTN_ScarsOfTheJulyUprising
			}
		}
		allow_branch = {
			
		}
		mutually_exclusive = {
			focus = SOTN_HarmonySociety
		}
	}
	focus = { 
		id = SOTN_VizierOffice
		icon = GFX_SOTN_VizierOffice
		cost = 6
		x = 4
		y = 1
		relative_position_id = SOTN_KingSpeech
		prerequisite = {
			focus = SOTN_KingSpeech
		}
		available = {
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_VizierOffice"
			set_power_balance = {
				id = SOTN_VizierPharaoh_BOP
				left_side = SOTN_BOP_Vizier_side
				right_side = SOTN_BOP_King_side
				set_value = -0.3
			}
			custom_effect_tooltip = SOTN_doublespace
			unlock_decision_tooltip = SOTN_Bop_ExpandBureaucracy
			unlock_decision_tooltip = SOTN_Bop_VizierialMeeting
			unlock_decision_tooltip = SOTN_Bop_DismissOverseers
			unlock_decision_tooltip = SOTN_Bop_PromoteNomarchs
			custom_effect_tooltip = SOTN_doublespace
			custom_override_tooltip = {
				tooltip = {
					localization_key = SOTN_UnlockNationalFocus_tt
					FOCUS = SOTN_VizierCabinet
				}
			}
		}
	}
	focus = { 
		id = SOTN_SidelineKing
		icon = GFX_SOTN_SidelineKing
		cost = 6
		x = -2
		y = 1
		relative_position_id = SOTN_VizierOffice
		prerequisite = {
			focus = SOTN_VizierOffice
		}
		available = {
			OR = {		
				NOT = {
					has_power_balance = {
						id = SOTN_VizierPharaoh_BOP
					}
				}
				is_power_balance_in_range = {
					id = SOTN_VizierPharaoh_BOP
					range < SOTN_VizierPharaoh_King_mid
				}
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_SidelineKing"
			add_power_balance_value = {
				id = SOTN_VizierPharaoh_BOP
				value = -0.1
			}
			custom_effect_tooltip = SOTN_doublespace
			custom_effect_tooltip = SOTN_SidelineKing_tt
			hidden_effect = {
				if = {
					limit = {
						has_character = SOTN_character_Narmare
						SOTN_character_Narmare = {
							has_character_flag = SOTN_isUnderHouseArrest_flag
						}
					}
					SOTN_character_Narmare = {
						unit_leader_event = {
							id = SOTN_MgyFlavour.8
							days = 2
						}
					}
				}
			}
		}
		mutually_exclusive = {
			focus = SOTN_SidelineVizier
		}
	}
	focus = { 
		id = SOTN_SidelineVizier
		icon = GFX_SOTN_SidelineVizier
		cost = 6
		x = 2
		y = 1
		relative_position_id = SOTN_VizierOffice
		prerequisite = {
			focus = SOTN_VizierOffice
		}
		available = {
			OR = {
				NOT = {
					has_power_balance = {
						id = SOTN_VizierPharaoh_BOP
					}
				}
				is_power_balance_in_range = {
					id = SOTN_VizierPharaoh_BOP
					range > SOTN_VizierPharaoh_Vizier_medium
				}
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_SidelineVizier"
			add_power_balance_value = {
				id = SOTN_VizierPharaoh_BOP
				value = 0.1
			}
			custom_effect_tooltip = SOTN_doublespace
			custom_effect_tooltip = SOTN_SidelineVizier_tt
			hidden_effect = {
				if = {
					limit = {
						has_character = SOTN_character_Narmare
						SOTN_character_Narmare = {
							has_character_flag = SOTN_isUnderHouseArrest_flag
						}
					}
					SOTN_character_Narmare = {
						unit_leader_event = {
							id = SOTN_MgyFlavour.8
							days = 2
						}
					}
				}
			}
		}
		mutually_exclusive = {
			focus = SOTN_SidelineKing
		}
	}
	focus = { 
		id = SOTN_DynasticPropaganda
		icon = GFX_SOTN_DynasticPropaganda
		cost = 6
		x = 5
		y = 1
		relative_position_id = SOTN_VizierOffice
		prerequisite = {
			focus = SOTN_VizierOffice
		}
		available = {
			if = {
				limit = {
					has_government = neutrality
					has_country_leader = {
						character = SOTN_character_KingKhefer
						ruling_only = yes
					}
				}
				neutrality > 0.6
			}
			else = {
				democratic > 0.6
			}
			has_stability > 0.4
			has_country_leader = {
				character = SOTN_character_KingKhefer
				ruling_only = yes
			}
			OR = {
				NOT = {
					has_power_balance = {
						id = SOTN_VizierPharaoh_BOP
					}
				}
				is_power_balance_in_range = {
					id = SOTN_VizierPharaoh_BOP
					range > SOTN_VizierPharaoh_Mid
				}
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_DynasticPropaganda"
			if = {
				limit = {
					has_idea = SOTN_PoliticalUnrest
				}
				every_owned_state = {
					limit = {
						has_dynamic_modifier = {
							modifier = SOTN_MODIFIER_LocalUnrest_Dynmod
						}
					}
					SOTN_DecreaseStateUnrest_medium_effect = yes
				}
			}
			else = {
				add_stability = 0.1
			}
			swap_ruler_traits = {
				remove = SOTN_YoungKing_Trait
				add = SOTN_YoungKingGood_Trait
			}
		}
	}
	focus = { 
		id = SOTN_StrengthenKing
		icon = GFX_SOTN_StrengthenKing
		cost = 6
		x = 4
		y = 2
		relative_position_id = SOTN_VizierOffice
		prerequisite = {
			focus = SOTN_DynasticPropaganda
		}
		prerequisite = {
			focus = SOTN_SidelineVizier
		}
		available = {
			has_country_leader = {
				character = SOTN_character_KingKhefer
				ruling_only = yes
			}
			OR = {
				NOT = {
					has_power_balance = {
						id = SOTN_VizierPharaoh_BOP
					}
				}
				is_power_balance_in_range = {
					id = SOTN_VizierPharaoh_BOP
					range > SOTN_VizierPharaoh_King_Low
				}
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_StrengthenKing"
			SOTN_character_KingKhefer = {
				add_trait = {
					trait = SOTN_AbsoluteMonarchTrait_Trait
				}
			}
		}
	}
	focus = { 
		id = SOTN_AppointAdmin
		icon = GFX_SOTN_AppointAdmin
		cost = 6
		x = 0
		y = 2
		relative_position_id = SOTN_VizierOffice
		prerequisite = {
			focus = SOTN_SidelineKing
			focus = SOTN_SidelineVizier
		}
		available = {
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_AppointAdmin"
			if = {
				limit = {
					NOT = {
						has_idea = SOTN_StreamLinedAdministration
					}
				}
				add_ideas = {
					SOTN_OfficeOFTheTwoLands
				}
			}
			else = {
				add_ideas = SOTN_StreamLinedAdministrationAndOverseer
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = SOTN_NeighktVizier_flag
					}
				}	
				custom_effect_tooltip = SOTN_doublespace
				SOTN_Character_Neighkt = {
					add_trait = {
						trait = SOTN_OverseerOfTheCrown_Trait
					}
				}
			}
			else = {
				add_political_power = 100
			}
		}
	}
	focus = { 
		id = SOTN_RefillTreasury
		icon = GFX_SOTN_RefillTreasury
		cost = 6
		x = -3
		y = 2
		relative_position_id = SOTN_VizierOffice
		prerequisite = {
			focus = SOTN_VizierOffice
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_RefillTreasury"
			if = {
				limit = {
					any_owned_state = {
						has_dynamic_modifier = {
							modifier = SOTN_MODIFIER_LocalUnrest_Dynmod
						}
					}
				}
				every_owned_state = {
					limit = {
						has_dynamic_modifier = {
							modifier = SOTN_MODIFIER_LocalUnrest_Dynmod
						}
					}
					SOTN_IncreaseStateUnrest_small_effect = yes
				}
			}
			else = {
				add_stability = -0.05
			}
			custom_effect_tooltip = SOTN_doublespace
			add_popularity = {
				ideology = ROOT
				popularity = -0.05
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0 include_locked = yes
					}
					OR = { #Taken from Kaiserreich's files, tweaked a bit.
						is_in_home_area = yes
						AND = {
							NOT = {
								is_in_home_area = yes
							}
							owner = {
								any_owned_state = {
									is_in_home_area = yes
									free_building_slots = {
										building = industrial_complex
										size < 1
										include_locked = yes
									}
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
			custom_effect_tooltip = SOTN_doublespace
			add_timed_idea = {
				idea = SOTN_IncreasedTaxes
				days = 540
			}
		}
	}
	focus = { 
		id = SOTN_ClassicRevival
		icon = GFX_SOTN_ClassicRevival
		cost = 6
		x = -4
		y = 4
		relative_position_id = SOTN_VizierOffice
		continue_if_invalid = yes
		cancel_if_invalid = no
		prerequisite = {
			focus = SOTN_RefillTreasury
		}
		available = {
			has_political_power > 100
		}
		bypass = {
			
		}
		select_effect = {

		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_ClassicRevival"
			add_political_power = -100
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			custom_effect_tooltip = SOTN_doublespace
			add_research_slot = 1
			SOTN_UpgradeIlliteracy_effect = yes
		}
	}
	focus = { 
		id = SOTN_AssimilateAdmin
		icon = GFX_SOTN_AssimilateAdmin
		cost = 6
		x = -2
		y = 3
		relative_position_id = SOTN_VizierOffice
		prerequisite = {
			focus = SOTN_RefillTreasury
		}
		prerequisite = {
			focus = SOTN_SidelineKing
		}
		available = {
			OR = {
				NOT = {
					has_power_balance = {
						id =  SOTN_VizierPharaoh_BOP
					}
				}
				is_power_balance_in_range = {
					id = SOTN_VizierPharaoh_BOP
					range < SOTN_VizierPharaoh_Vizier_medium
				}
			}
			OR = {
				all_core_state = {
					NOT = {
						has_dynamic_modifier = {
							modifier = SOTN_MODIFIER_LocalUnrest_Dynmod
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = SOTN_StabilityTwiceAvgUnrest_tt
					check_variable = {
						SOTN_Unrest_DoubleAverage_var < ROOT@stability
					}
				}
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_AssimilateAdmin"
			if = {
				limit = {
					NOT = {
						has_idea = SOTN_OfficeOFTheTwoLands
					}
				}
				add_ideas = {
					SOTN_StreamLinedAdministration
				}
			}
			else = {
				add_ideas = SOTN_StreamLinedAdministrationAndOverseer
			}
			custom_effect_tooltip = SOTN_doublespace
			every_owned_state = {
				limit = {
					OR = { #Taken from Kaiserreich's files, tweaked a bit.
						is_in_home_area = yes
						AND = {
							NOT = {
								is_in_home_area = yes
							}
							owner = {
								any_owned_state = {
									is_in_home_area = yes
									free_building_slots = {
										building = industrial_complex
										size < 1
										include_locked = yes
									}
								}
							}
						}
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
		}
	}
	focus = { # Dynamic focus
		id = SOTN_VizierCabinet
		icon = {
			trigger = { SOTN_HasShaaDoof_Vizier_trigger = yes }
			value = GFX_SOTN_VizierCabinet_ShaaDoof
		}
		icon = {
			trigger = {
				SOTN_HasNeighSer_Vizier_trigger = yes
			}
			value = GFX_goal_unknown
		}
		icon = {
			trigger = {
				
			}
			value = GFX_goal_unknown
		}
		# icon = {
		# 	trigger = { has_country_flag = SOTN_NeighktVizier_flag }
		# 	value = GFX_focus_example_democratic
		# }
		cost = 6
		x = 2
		y = 3
		relative_position_id = SOTN_VizierOffice
		dynamic = yes
		prerequisite = {
			
		}
		available = {
			has_completed_focus = SOTN_VizierOffice
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_VizierCabinet"
			if = {
				limit = {
					SOTN_HasShaaDoof_Vizier_trigger = yes
				}
				add_power_balance_value = {
					id = SOTN_VizierPharaoh_BOP
					value = -0.05
				}
				custom_effect_tooltip = SOTN_doublespace
				add_political_power = 25
			}
		}
		allow_branch = {
			OR = {
				SOTN_HasAhhotep_Vizier_trigger = yes
				SOTN_HasNaramre_Vizier_trigger = yes
				SOTN_HasNeighSer_Vizier_trigger = yes
				SOTN_HasNeighkt_Vizier_trigger = yes
				SOTN_HasShaaDoof_Vizier_trigger = yes
			}	
		}
	}
	focus = { 
		id = SOTN_RoyalDiet
		icon = GFX_SOTN_RoyalDiet
		cost = 6
		x = 0
		y = 4
		relative_position_id = SOTN_VizierOffice
		cancelable = no
		prerequisite = {
			focus = SOTN_AppointAdmin
		}
		prerequisite = {
			focus = SOTN_VizierCabinet
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_RoyalDiet"
			custom_effect_tooltip = SOTN_RoyalDiet_tt
		}
		allow_branch = {
			NOT = {
				has_country_flag = SOTN_RoyalDietFails_flag
			}
			OR = {
				SOTN_HasAhhotep_Vizier_trigger = yes
				SOTN_HasNaramre_Vizier_trigger = yes
				SOTN_HasNeighSer_Vizier_trigger = yes
				SOTN_HasNeighkt_Vizier_trigger = yes
				SOTN_HasShaaDoof_Vizier_trigger = yes
			}
		}
	}
	focus = { 
		id = SOTN_MaregyptRenaissance
		icon = GFX_SOTN_MaregyptRenaissance
		cost = 6
		x = 0
		y = 6
		relative_position_id = SOTN_VizierOffice
		prerequisite = {
			focus = SOTN_RoyalDiet
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOTN_ReformReached_tt
				check_variable = {
					var = SOTN_ReformProgress_var
					value = SOTN_ReformGoal_var
					compare = greater_than_or_equals
				}
			}
			custom_trigger_tooltip = {
				tooltip = SOTN_StabilityTwiceAvgUnrest_tt
				check_variable = {
					SOTN_Unrest_DoubleAverage_var < ROOT@stability
				}
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_MaregyptRenaissance"
			remove_ideas = SOTN_PoliticalUnrest
		}
		allow_branch = {
			NOT = {
				has_country_flag = SOTN_RoyalDietFails_flag
			}
			OR = {
				SOTN_HasAhhotep_Vizier_trigger = yes
				SOTN_HasNaramre_Vizier_trigger = yes
				SOTN_HasNeighSer_Vizier_trigger = yes
				SOTN_HasNeighkt_Vizier_trigger = yes
				SOTN_HasShaaDoof_Vizier_trigger = yes
			}
		}
	}
	#
	# VIZIER TREE - SHAA DOOF
	#
	focus = {
		id = SOTN_ManephisDecree
		icon = GFX_SOTN_ManephisDecree
		cost = 6
		x = 0
		y = 1
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_VizierCabinet
		}
		available = {
			SOTN_HasShaaDoof_Vizier_trigger = yes
			NOT = {
				has_completed_focus = SOTN_OpenSociety
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_ManephisDecree"
			add_ideas = SOTN_ManephisProclamation
			custom_effect_tooltip = SOTN_doublespace
			custom_override_tooltip = {
				tooltip = {
					localization_key = SOTN_UnlockStateWideDecision_tt
					DECISION = SOTN_ReinforceGarrisons_dummy
				}
			}
		}
		allow_branch = {
			SOTN_HasShaaDoof_Vizier_trigger = yes
		}
	}
	focus = {
		id = SOTN_WorkWithAhhotep
		icon = GFX_SOTN_WorkWithAhhotep
		cost = 6
		x = -1
		y = 2
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_RoyalDiet
		}
		available = {
			SOTN_HasShaaDoof_Vizier_trigger = yes
			custom_trigger_tooltip = {
				tooltip = SOTN_DietIsOngoing_tt
				NOT = {
					has_completed_focus = SOTN_MaregyptRenaissance
				}
				has_completed_focus = SOTN_RoyalDiet
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_WorkWithAhhotep"
			add_popularity = {
				ideology = neutrality
				popularity = 0.02
			}
			set_temp_variable = {
				SOTN_SeatChange_tempvar = 5
			}
			SOTN_RoyalDiet_TransferNeutralHarmony_effect = yes
		}
		allow_branch = {
			SOTN_HasShaaDoof_Vizier_trigger = yes
		}
	}
	focus = {
		id = SOTN_DenyExtremists
		icon = GFX_SOTN_DenyExtremists
		cost = 6
		x = 1
		y = 2
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_ManephisDecree
		}
		prerequisite = {
			focus = SOTN_RoyalDiet
		}
		available = {
			SOTN_HasShaaDoof_Vizier_trigger = yes
			custom_trigger_tooltip = {
				tooltip = SOTN_DietIsOngoing_tt
				NOT = {
					has_completed_focus = SOTN_MaregyptRenaissance
				}
				has_completed_focus = SOTN_RoyalDiet
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_DenyExtremists"
			add_popularity = {
				ideology = communism
				popularity = -0.02
			}
			add_popularity = {
				ideology = fascism
				popularity = -0.02
			}
			set_temp_variable = {
				SOTN_LoyaltyChangeDisplay_tempvar = 10
			}
			set_temp_variable = {
				SOTN_LoyaltyChange_tempvar = -10
			}
			SOTN_RoyalDiet_ChangePopulistLoyalty_effect = yes
			set_temp_variable = {
				SOTN_SeatChange_tempvar = 5
			}
			SOTN_RoyalDiet_TransferPopInd_effect = yes
		}
		allow_branch = {
			SOTN_HasShaaDoof_Vizier_trigger = yes
		}
	}
	focus = {
		id = SOTN_ReinforceHarmonyInDiet
		icon = GFX_SOTN_ReinforceHarmonyInDiet
		cost = 6
		x = -3
		y = 2
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_RoyalDiet
		}
		available = {
			SOTN_HasShaaDoof_Vizier_trigger = yes
			custom_trigger_tooltip = {
				tooltip = SOTN_DietIsOngoing_tt
				NOT = {
					has_completed_focus = SOTN_MaregyptRenaissance
				}
				has_completed_focus = SOTN_RoyalDiet
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_ReinforceHarmonyInDiet"
			add_popularity = {
				ideology = democratic
				popularity = 0.02
			}
			set_temp_variable = {
				SOTN_SeatChange_tempvar = 10
			}
			SOTN_RoyalDiet_TransferIndHarmony_effect = yes
		}
		allow_branch = {
			SOTN_HasShaaDoof_Vizier_trigger = yes
		}
	}
	focus = {
		id = SOTN_StrongArmAristocrats
		icon = GFX_SOTN_StrongArmAristocrats
		cost = 6
		x = -4
		y = 1
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_AssimilateAdmin
		}
		available = {
			SOTN_HasShaaDoof_Vizier_trigger = yes
			OR = {
				NOT = {
					has_power_balance = {
						id =  SOTN_VizierPharaoh_BOP
					}
				}
				is_power_balance_in_range = {
					id = SOTN_VizierPharaoh_BOP
					range < SOTN_VizierPharaoh_Vizier_medium
				}
			}
			OR = {
				has_completed_focus = SOTN_ManephisDecree
				SOTN_RoyalDietMajority_trigger = yes
			}	
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_StrongArmAristocrats"
			add_ideas = SOTN_BlackmailedAristocrats
		}
		allow_branch = {
			OR = {
				has_completed_focus = SOTN_StrongArmAristocrats
				SOTN_HasShaaDoof_Vizier_trigger = yes
			}
		}
	}
	#
	# VIZIER TREE - NEIGHKT
	#
	focus = {
		id = SOTN_PromoteOptimism
		icon = GFX_goal_unknown
		cost = 6
		x = 0
		y = 1
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_VizierCabinet
		}
		available = {
			SOTN_HasNeighkt_Vizier_trigger = yes
			custom_trigger_tooltip = {
				tooltip = SOTN_DietIsOngoing_tt
				NOT = {
					has_completed_focus = SOTN_MaregyptRenaissance
				}
				has_completed_focus = SOTN_RoyalDiet
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_PromoteOptimism"
		}
		allow_branch = {
			SOTN_HasNeighkt_Vizier_trigger = yes
		}
	}
	focus = {
		id = SOTN_BoldPromises
		icon = GFX_goal_unknown
		cost = 6
		x = -1
		y = 2
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_PromoteOptimism
			focus = SOTN_RoyalDiet
		}
		available = {
			SOTN_HasNeighkt_Vizier_trigger = yes
			has_completed_focus = SOTN_VizierCabinet
			custom_trigger_tooltip = {
				tooltip = SOTN_DietIsOngoing_tt
				NOT = {
					has_completed_focus = SOTN_MaregyptRenaissance
				}
				has_completed_focus = SOTN_RoyalDiet
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_BoldPromises"
		}
		allow_branch = {
			SOTN_HasNeighkt_Vizier_trigger = yes
		}
	}
	focus = {
		id = SOTN_TowardsReformism
		icon = GFX_goal_unknown
		cost = 6
		x = -4
		y = 2
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_RoyalDiet
		}
		available = {
			SOTN_HasNeighkt_Vizier_trigger = yes
			OR = {
				has_completed_focus = SOTN_HarmonyAlone
				has_completed_focus = SOTN_HarmonyAndTraditionalists
			}
			custom_trigger_tooltip = {
				tooltip = SOTN_DietIsOngoing_tt
				NOT = {
					has_completed_focus = SOTN_MaregyptRenaissance
				}
				has_completed_focus = SOTN_RoyalDiet
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_TowardsReformism"
		}
		allow_branch = {
			SOTN_HasNeighkt_Vizier_trigger = yes
		}
	}
	focus = {
		id = SOTN_FriendshipInTheVillages
		icon = GFX_goal_unknown
		cost = 6
		x = -5
		y = 3
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_TowardsReformism
		}
		available = {
			SOTN_HasNeighkt_Vizier_trigger = yes
			custom_trigger_tooltip = {
				tooltip = SOTN_DietIsOngoing_tt
				NOT = {
					has_completed_focus = SOTN_MaregyptRenaissance
				}
				has_completed_focus = SOTN_RoyalDiet
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_FriendshipInTheVillages"
		}
		allow_branch = {
			SOTN_HasNeighkt_Vizier_trigger = yes
		}
	}
	focus = {
		id = SOTN_RuralProsperity
		icon = GFX_goal_unknown
		cost = 6
		x = -6
		y = 4
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_TowardsReformism
		}
		available = {
			SOTN_HasNeighkt_Vizier_trigger = yes
			custom_trigger_tooltip = {
				tooltip = SOTN_DietIsOngoing_tt
				NOT = {
					has_completed_focus = SOTN_MaregyptRenaissance
				}
				has_completed_focus = SOTN_RoyalDiet
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_FriendshipInTheVillages"
		}
		allow_branch = {
			SOTN_HasNeighkt_Vizier_trigger = yes
		}
	}
	focus = {
		id = SOTN_FriendshipClubs
		icon = GFX_goal_unknown
		cost = 6
		x = -3
		y = 4
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_TowardsReformism
		}
		available = {
			SOTN_HasNeighkt_Vizier_trigger = yes
			custom_trigger_tooltip = {
				tooltip = SOTN_DietIsOngoing_tt
				NOT = {
					has_completed_focus = SOTN_MaregyptRenaissance
				}
				has_completed_focus = SOTN_RoyalDiet
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_FriendshipClubs"
		}
		allow_branch = {
			SOTN_HasNeighkt_Vizier_trigger = yes
		}
	}
	focus = {
		id = SOTN_ParliamentAlliesHarmony
		icon = GFX_goal_unknown
		cost = 6
		x = 2
		y = 1
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_VizierCabinet
		}
		available = {
			SOTN_HasNeighkt_Vizier_trigger = yes
			custom_trigger_tooltip = {
				tooltip = SOTN_DietIsOngoing_tt
				NOT = {
					has_completed_focus = SOTN_MaregyptRenaissance
				}
				has_completed_focus = SOTN_RoyalDiet
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_ParliamentAlliesHarmony"
		}
		allow_branch = {
			SOTN_HasNeighkt_Vizier_trigger = yes
		}
	}
	focus = {
		id = SOTN_HarmonyAndTraditionalists
		icon = GFX_goal_unknown
		cost = 6
		x = 3
		y = 2
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_ParliamentAlliesHarmony
		}
		available = {
			SOTN_HasNeighkt_Vizier_trigger = yes
			custom_trigger_tooltip = {
				tooltip = SOTN_DietIsOngoing_tt
				NOT = {
					has_completed_focus = SOTN_MaregyptRenaissance
				}
				has_completed_focus = SOTN_RoyalDiet
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_HarmonyAndTraditionalists"
		}
		mutually_exclusive = {
			focus = SOTN_HarmonyAlone
		}
		allow_branch = {
			SOTN_HasNeighkt_Vizier_trigger = yes
		}
	}
	focus = {
		id = SOTN_HarmonyAlone
		icon = GFX_goal_unknown
		cost = 6
		x = 1
		y = 2
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_ParliamentAlliesHarmony
		}
		available = {
			SOTN_HasNeighkt_Vizier_trigger = yes
			custom_trigger_tooltip = {
				tooltip = SOTN_DietIsOngoing_tt
				NOT = {
					has_completed_focus = SOTN_MaregyptRenaissance
				}
				has_completed_focus = SOTN_RoyalDiet
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_HarmonyAlone"
		}
		mutually_exclusive = {
			focus = SOTN_HarmonyAndTraditionalists
		}
		allow_branch = {
			SOTN_HasNeighkt_Vizier_trigger = yes
		}
	}
	focus = {
		id = SOTN_ParliamentHarmonyComittee
		icon = GFX_goal_unknown
		cost = 6
		x = 2
		y = 3
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_HarmonyAlone
			focus = SOTN_HarmonyAndTraditionalists
		}
		available = {
			SOTN_HasNeighkt_Vizier_trigger = yes
			custom_trigger_tooltip = {
				tooltip = SOTN_DietIsOngoing_tt
				NOT = {
					has_completed_focus = SOTN_MaregyptRenaissance
				}
				has_completed_focus = SOTN_RoyalDiet
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_ParliamentHarmonyComittee"
		}
		allow_branch = {
			SOTN_HasNeighkt_Vizier_trigger = yes
		}
	}
	focus = {
		id = SOTN_AdoptEquestrianCode
		icon = GFX_goal_unknown
		cost = 6
		x = 1
		y = 4
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_HarmonyAlone
		}
		prerequisite = {
			focus = SOTN_ParliamentHarmonyComittee
		}
		available = {
			SOTN_HasNeighkt_Vizier_trigger = yes
			custom_trigger_tooltip = {
				tooltip = SOTN_DietIsOngoing_tt
				NOT = {
					has_completed_focus = SOTN_MaregyptRenaissance
				}
				has_completed_focus = SOTN_RoyalDiet
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_AdoptEquestrianCode"
		}
		allow_branch = {
			SOTN_HasNeighkt_Vizier_trigger = yes
		}
	}
	focus = {
		id = SOTN_ReformRamaresesCode
		icon = GFX_goal_unknown
		cost = 6
		x = 3
		y = 4
		relative_position_id = SOTN_VizierCabinet
		prerequisite = {
			focus = SOTN_HarmonyAndTraditionalists
		}
		prerequisite = {
			focus = SOTN_ParliamentHarmonyComittee
		}
		available = {
			SOTN_HasNeighkt_Vizier_trigger = yes
			custom_trigger_tooltip = {
				tooltip = SOTN_DietIsOngoing_tt
				NOT = {
					has_completed_focus = SOTN_MaregyptRenaissance
				}
				has_completed_focus = SOTN_RoyalDiet
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_ReformRamaresesCode"
		}
		allow_branch = {
			SOTN_HasNeighkt_Vizier_trigger = yes
		}
	}
	#
	# FAMINE RISK HANDLING - if not a full blown famine
	#
	focus = { 
		id = SOTN_YearOfTheLocust
		icon = GFX_SOTN_YearOfTheLocust
		cost = 6
		x = 0
		y = 2
		relative_position_id = SOTN_EconomyBudget
		prerequisite = {
			focus = SOTN_PayDebts
			focus = SOTN_AbolishCommission
		}
		available = {
			
		}
		bypass = {
			has_idea = SOTN_FamineInTheNeighle
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_YearOfTheLocust"
			unlock_decision_tooltip = SOTN_ImportCrops
			unlock_decision_tooltip = SOTN_DiversifyEconomy
			#TO DO: event
		}
	}
	focus = { 
		id = SOTN_IrrigationWorks
		icon = GFX_SOTN_IrrigationWorks
		cost = 6
		x = 0
		y = 1
		relative_position_id = SOTN_YearOfTheLocust
		prerequisite = {
			focus = SOTN_YearOfTheLocust
		}
		available = {
			NOT = {
				has_idea = SOTN_FamineInTheNeighle
			}	
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_IrrigationWorks"
			set_temp_variable = {
				SOTN_ReformProgress_tempvar = 5
			}
			SOTN_UpdateReformProgress_effect = yes
			custom_override_tooltip = {
				tooltip = {
					localization_key = SOTN_UnlockStateWideDecision_tt
					DECISION = SOTN_FixIrrigation_dummy
				}
			}
			custom_effect_tooltip = SOTN_doublespace
			SOTN_UpgradePoverty_effect = yes
		}
		allow_branch = {
			NOT = {
				has_idea = SOTN_FamineInTheNeighle
			}
		}
	}
	focus = { 
		id = SOTN_ForcefulDistribution
		icon = GFX_SOTN_ForcefulDistribution
		cost = 6
		x = -1
		y = 2
		relative_position_id = SOTN_YearOfTheLocust
		prerequisite = {
			focus = SOTN_YearOfTheLocust
		}
		available = {
			NOT = {
				has_idea = SOTN_FamineInTheNeighle
			}
			OR = {
				has_completed_focus = SOTN_MaregyptRenaissance
				SOTN_RoyalDietMajority_trigger = yes
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_ForcefulDistribution"
			set_temp_variable = {
				SOTN_LoyaltyChangeDisplay_tempvar = 10
			}
			set_temp_variable = {
				SOTN_LoyaltyChange_tempvar = -10
			}
			SOTN_RoyalDiet_ChangeHarmonyLoyalty_effect = yes
			set_temp_variable = {
				SOTN_LoyaltyChangeDisplay_tempvar = 20
			}
			set_temp_variable = {
				SOTN_LoyaltyChange_tempvar = -20
			}
			SOTN_RoyalDiet_ChangeNeutralLoyalty_effect = yes
			set_temp_variable = {
				SOTN_LoyaltyChangeDisplay_tempvar = 10
			}
			set_temp_variable = {
				SOTN_LoyaltyChange_tempvar = -10
			}
			SOTN_RoyalDiet_ChangeIndependentLoyalty_effect = yes
			custom_effect_tooltip = SOTN_doublespace
			random_owned_controlled_state = {
				limit = {
					industrial_complex > 0
				}
				prioritize = {
					735
					736
				}
				remove_building = {
					type = industrial_complex
					level = 1
				}
			}
			random_owned_controlled_state = {
				limit = {
					industrial_complex > 0
				}
				prioritize = {
					734
					737
				}
				remove_building = {
					type = industrial_complex
					level = 1
				}
			}
			add_political_power = 50
			custom_effect_tooltip = SOTN_doublespace
			add_days_mission_timeout = {
				mission = SOTN_LoomingFamine
				days = 120
			}
		}
		mutually_exclusive = {
			focus = SOTN_LandCompensation
		}
		allow_branch = {
			NOT = {
				has_idea = SOTN_FamineInTheNeighle
			}
		}
	}
	focus = { 
		id = SOTN_LandCompensation
		icon = GFX_SOTN_LandCompensation
		cost = 6
		x = 1
		y = 2
		relative_position_id = SOTN_YearOfTheLocust
		prerequisite = {
			focus = SOTN_YearOfTheLocust
		}
		available = {
			NOT = {
				has_idea = SOTN_FamineInTheNeighle
			}
			OR = {
				has_completed_focus = SOTN_MaregyptRenaissance
				SOTN_RoyalDietMajority_trigger = yes
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_LandCompensation"
			set_temp_variable = {
				SOTN_LoyaltyChangeDisplay_tempvar = 5
			}
			set_temp_variable = {
				SOTN_LoyaltyChange_tempvar = -5
			}
			SOTN_RoyalDiet_ChangeHarmonyLoyalty_effect = yes
			set_temp_variable = {
				SOTN_LoyaltyChangeDisplay_tempvar = 10
			}
			set_temp_variable = {
				SOTN_LoyaltyChange_tempvar = -10
			}
			SOTN_RoyalDiet_ChangePopulistLoyalty_effect = yes
			set_temp_variable = {
				SOTN_LoyaltyChangeDisplay_tempvar = 5
			}
			set_temp_variable = {
				SOTN_LoyaltyChange_tempvar = -5
			}
			SOTN_RoyalDiet_ChangeIndependentLoyalty_effect = yes
			custom_effect_tooltip = SOTN_doublespace
			set_temp_variable = {
				SOTN_ReformProgress_tempvar = -10
			}
			SOTN_UpdateReformProgress_effect = yes
			custom_effect_tooltip = SOTN_doublespace
			add_days_mission_timeout = {
				mission = SOTN_LoomingFamine
				days = 60
			}
		}
		mutually_exclusive = {
			focus = SOTN_ForcefulDistribution
		}
		allow_branch = {
			NOT = {
				has_idea = SOTN_FamineInTheNeighle
			}
		}
	}
	focus = { 
		id = SOTN_LandReform
		icon = GFX_SOTN_LandReform
		cost = 6
		x = 0
		y = 3
		relative_position_id = SOTN_YearOfTheLocust
		prerequisite = {
			focus = SOTN_ForcefulDistribution
			focus = SOTN_LandCompensation
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOTN_LandReformRequirements_tt
				737 = {
					OR = {
						AND = {
							is_owned_by = ROOT
							is_fully_controlled_by = ROOT
							infrastructure > 4
						}
						NOT = {
							is_owned_by = ROOT
						}
					}
				}
				734 = {
					OR = {
						AND = {
							is_owned_by = ROOT
							is_fully_controlled_by = ROOT
							infrastructure > 4
						}
						NOT = {
							is_owned_by = ROOT
						}
					}
				}
				735 = {
					OR = {
						AND = {
							is_owned_by = ROOT
							is_fully_controlled_by = ROOT
							infrastructure > 4
						}
						NOT = {
							is_owned_by = ROOT
						}
					}
				}
				736 = {
					OR = {
						AND = {
							is_owned_by = ROOT
							is_fully_controlled_by = ROOT
							infrastructure > 4
						}
						NOT = {
							is_owned_by = ROOT
						}
					}
				}
				759 = {
					OR = {
						AND = {
							is_owned_by = ROOT
							is_fully_controlled_by = ROOT
							infrastructure > 4
						}
						NOT = {
							is_owned_by = ROOT
						}
					}
				}
				758 = {
					OR = {
						AND = {
							is_owned_by = ROOT
							is_fully_controlled_by = ROOT
							infrastructure > 4
						}
						NOT = {
							is_owned_by = ROOT
						}
					}
				}
			}
			NOT = {
				has_idea = SOTN_FamineInTheNeighle
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_LandReform"
			remove_mission = SOTN_LoomingFamine
			remove_ideas = {
				SOTN_FamineRisk
			}
			custom_effect_tooltip = SOTN_doublespace
			if =  {
				limit = {
					has_idea = SOTN_PoliticalUnrest
				}
				add_stability = 0.05
				every_owned_state = {
					limit = {
						OR = {
							state = 737
							state = 734
							state = 735
							state = 736
							state = 759
							state = 758
						}
					}
					SOTN_DecreaseStateUnrest_medium_effect = yes
				}
				else = {
					add_stability = 0.1
				}
			}
			custom_effect_tooltip = SOTN_doublespace
			set_temp_variable = {
				SOTN_ReformProgress_tempvar = 10
			}
			SOTN_UpdateReformProgress_effect = yes
			custom_effect_tooltip = SOTN_doublespace
			custom_override_tooltip = {
				tooltip = {
					localization_key = SOTN_UnlockNationalFocus_tt
					FOCUS = SOTN_ModernisedIndustry
				}
			}
			custom_override_tooltip = {
				tooltip = {
					localization_key = SOTN_UnlockNationalFocus_tt
					FOCUS = SOTN_AgrarianEconomy
				}
			}
			custom_override_tooltip = {
				tooltip = {
					localization_key = SOTN_UnlockNationalFocus_tt
					FOCUS = SOTN_IndustrialEconomy
				}
			}
		}
		allow_branch = {
			NOT = {
				has_idea = SOTN_FamineInTheNeighle
			}
		}
	}
	# FAMINE HAPPENED - focuses to deal with that
	focus = { 
		id = SOTN_EmergencyRelief
		icon = GFX_SOTN_EmergencyRelief
		cost = 6
		x = -1
		y = 1
		relative_position_id = SOTN_YearOfTheLocust
		prerequisite = {
			focus = SOTN_YearOfTheLocust
		}
		available = {
			has_idea = SOTN_FamineInTheNeighle	
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_EmergencyRelief"
			unlock_decision_tooltip = SOTN_FamineScrapExports
			unlock_decision_tooltip =SOTN_FamineLandRepossession
			unlock_decision_tooltip =SOTN_FamineSaveFarms
			unlock_decision_tooltip =SOTN_FamineZebricanGrain
			unlock_decision_tooltip =SOTN_FamineEquestrianFood
			unlock_decision_tooltip =SOTN_FamineHippogrifFish
		}
		allow_branch = {
			OR = {
				has_idea = SOTN_FamineInTheNeighle
				has_completed_focus = SOTN_FamineIsOver
			}
		}
	}
	focus = { 
		id = SOTN_FocusOnCities
		icon = GFX_SOTN_FocusOnCities
		cost = 6
		x = 1
		y = 2
		relative_position_id = SOTN_YearOfTheLocust
		prerequisite = {
			focus = SOTN_EmergencyRelief
		}
		prerequisite = {
			focus = SOTN_AskForAid
		}
		available = {
			has_idea = SOTN_FamineInTheNeighle	
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_FocusOnCities"
			add_political_power = 100
			every_owned_state = {
				limit = {
					NOT = {
						has_state_category = megalopolis
					}
					NOT = {
						has_state_category = city
					}
					NOT = {
						has_state_category = large_city
					}
					NOT = {
						has_state_category = metropolis
					}
					NOT = {
						has_state_category = wasteland
					}
					NOT = {
						has_state_category = large_town
					}
				}
				add_dynamic_modifier = {
					modifier = SOTN_MODIFIER_FamineEffects_mod
					days = 730
				}
				if = {
					limit = {
						owner = {
							has_idea = SOTN_PoliticalUnrest
						}
					}
					SOTN_IncreaseStateUnrest_small_effect = yes
				}
			}
			every_owned_state = {
				limit = {
					OR = {
						has_state_category = city
						has_state_category = large_city
						has_state_category = metropolis
						has_state_category = megalopolis
						has_state_category = large_town
					}
					NOT = {
						has_state_category = wasteland
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
				}
				if = {
					limit = {
						owner = {
							has_idea = SOTN_PoliticalUnrest
						}
					}
					SOTN_DecreaseStateUnrest_small_effect = yes
				}
			}
		}
		mutually_exclusive = {
			focus = SOTN_FocusOnVillages
		}
		allow_branch = {
			OR = {
				has_idea = SOTN_FamineInTheNeighle
				has_completed_focus = SOTN_FamineIsOver
			}
		}
	}
	focus = { 
		id = SOTN_FocusOnVillages
		icon = GFX_SOTN_FocusOnVillages
		cost = 6
		x = -1
		y = 2
		relative_position_id = SOTN_YearOfTheLocust
		prerequisite = {
			focus = SOTN_EmergencyRelief
		}
		prerequisite = {
			focus = SOTN_AskForAid
		}
		available = {
			has_idea = SOTN_FamineInTheNeighle	
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_FocusOnVillages"
			add_stability = 0.1
			every_owned_state = {
				limit = {
					OR = {
						has_state_category = city
						has_state_category = large_city
						has_state_category = metropolis
						has_state_category = megalopolis
						has_state_category = large_town
					}
					NOT = {
						has_state_category = wasteland
					}
				}
				add_dynamic_modifier = {
					modifier = SOTN_MODIFIER_FamineEffects_mod
					days = 730
				}
				if = {
					limit = {
						owner = {
							has_idea = SOTN_PoliticalUnrest
						}
					}
					SOTN_IncreaseStateUnrest_small_effect = yes
				}
			}
			every_owned_state = {
				limit = {
					NOT = {
						has_state_category = megalopolis
					}
					NOT = {
						has_state_category = city
					}
					NOT = {
						has_state_category = large_city
					}
					NOT = {
						has_state_category = metropolis
					}
					NOT = {
						has_state_category = wasteland
					}
					NOT = {
						has_state_category = large_town
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
				}
				if = {
					limit = {
						owner = {
							has_idea = SOTN_PoliticalUnrest
						}
					}
					SOTN_DecreaseStateUnrest_small_effect = yes
				}
			}
		}
		mutually_exclusive = {
			focus = SOTN_FocusOnCities
		}
		allow_branch = {
			OR = {
				has_idea = SOTN_FamineInTheNeighle
				has_completed_focus = SOTN_FamineIsOver
			}
		}
	}
	focus = { 
		id = SOTN_AskForAid
		icon = GFX_SOTN_AskForAid
		cost = 6
		x = 1
		y = 1
		relative_position_id = SOTN_YearOfTheLocust
		prerequisite = {
			focus = SOTN_YearOfTheLocust
		}
		available = {
			has_idea = SOTN_FamineInTheNeighle	
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_AskForAid"
		}
		allow_branch = {
			OR = {
				has_idea = SOTN_FamineInTheNeighle
				has_completed_focus = SOTN_FamineIsOver
			}
		}
	}
	focus = { 
		id = SOTN_FamineIsOver
		icon = GFX_SOTN_FamineIsOver
		cost = 6
		x = 0
		y = 3
		relative_position_id = SOTN_YearOfTheLocust
		prerequisite = {
			focus = SOTN_FocusOnCities
			focus = SOTN_FocusOnVillages
		}
		available = {
			has_idea = SOTN_FamineInTheNeighle	
			count_triggers = {
				amount = 4
				custom_trigger_tooltip = {
					tooltip = SOTN_FamineScrapExportsComplete_tt
					has_country_flag = SOTN_FamineScrapExportsComplete_flag
				}
				custom_trigger_tooltip = {
					tooltip = SOTN_FamineLandRepossessionComplete_tt
					has_country_flag = SOTN_FamineLandRepossessionComplete_flag
				}
				custom_trigger_tooltip = {
					tooltip = SOTN_FamineSaveFarms_tt
					has_country_flag = SOTN_FamineSaveFarms_flag
				}
				custom_trigger_tooltip = {
					tooltip = SOTN_FamineZebricanGrain_tt
					has_country_flag = SOTN_FamineZebricanGrain_flag
				}
				custom_trigger_tooltip = {
					tooltip = SOTN_FamineEquestrianFood_tt
					has_country_flag = SOTN_FamineEquestrianFood_flag
				}
				custom_trigger_tooltip = {
					tooltip = SOTN_FamineHippogrifFish_tt
					has_country_flag = SOTN_FamineHippogrifFish_flag
				}
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_FamineIsOver"
			remove_ideas = SOTN_FamineInTheNeighle
			custom_effect_tooltip = SOTN_doublespace
			add_stability = 0.1
			custom_override_tooltip = {
				tooltip = {
					localization_key = SOTN_UnlockStateWideDecision_tt
					DECISION = SOTN_FixIrrigation_dummy
				}
			}
			custom_effect_tooltip = SOTN_doublespace
			custom_override_tooltip = {
				tooltip = {
					localization_key = SOTN_UnlockNationalFocus_tt
					FOCUS = SOTN_ModernisedIndustry
				}
			}
			custom_override_tooltip = {
				tooltip = {
					localization_key = SOTN_UnlockNationalFocus_tt
					FOCUS = SOTN_AgrarianEconomy
				}
			}
			custom_override_tooltip = {
				tooltip = {
					localization_key = SOTN_UnlockNationalFocus_tt
					FOCUS = SOTN_IndustrialEconomy
				}
			}
		}
		allow_branch = {
			OR = {
				has_idea = SOTN_FamineInTheNeighle
				has_completed_focus = SOTN_FamineIsOver
			}
		}
	}
	# ECONOMY, GENERAL
	focus = {
		id = SOTN_EconomyBudget
		icon = GFX_SOTN_EconomyBudget
		cost = 1
		x = 0
		y = 0
		prerequisite = {
		
		}
		available = {
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_EconomyBudget"
		}
	}
	focus = {
		id = SOTN_AbolishCommission
		icon = GFX_SOTN_AbolishCommission
		cost = 1
		x = -2
		y = 1
		prerequisite = {
			focus = SOTN_EconomyBudget
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_AbolishCommission"
		}
		mutually_exclusive = {
			focus = SOTN_PayDebts
		}
	}
	focus = {
		id = SOTN_PayDebts
		icon = GFX_SOTN_PayDebts
		cost = 1
		x = 2
		y = 1
		relative_position_id = SOTN_EconomyBudget
		prerequisite = {
			focus = SOTN_EconomyBudget
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_PayDebts"
		}
		mutually_exclusive = {
			focus = SOTN_AbolishCommission
		}
	}
	focus = {
		id = SOTN_EconomyUrbanisation
		icon = GFX_SOTN_EconomyUrbanisation
		cost = 1
		x = 2
		y = 2
		relative_position_id = SOTN_EconomyBudget
		prerequisite = {
			focus = SOTN_PayDebts
			focus = SOTN_AbolishCommission
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_EconomyUrbanisation"
		}
	}
	focus = {
		id = SOTN_NationalRail
		icon = GFX_SOTN_NationalRail
		cost = 1
		x = 3
		y = 3
		relative_position_id = SOTN_EconomyBudget
		prerequisite = {
			focus = SOTN_EconomyUrbanisation
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_NationalRail"
		}
	}
	focus = {
		id = SOTN_TechnicalEducation
		icon = GFX_SOTN_TechnicalEducation
		cost = 1
		x = 2
		y = 5
		relative_position_id = SOTN_EconomyBudget
		prerequisite = {
			focus = SOTN_EconomyUrbanisation
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_TechnicalEducation"
		}
	}
	focus = {
		id = SOTN_ModernScience
		icon = GFX_SOTN_ModernScience
		cost = 1
		x = 3
		y = 6
		relative_position_id = SOTN_EconomyBudget
		prerequisite = {
			focus = SOTN_TechnicalEducation
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_ModernScience"
		}
	}
	focus = {
		id = SOTN_EconomyIntegrateCommission
		icon = GFX_SOTN_EconomyIntegrateCommission
		cost = 1
		x = -2
		y = 2
		relative_position_id = SOTN_EconomyBudget
		prerequisite = {
			focus = SOTN_PayDebts
			focus = SOTN_AbolishCommission
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_EconomyIntegrateCommission"	
		}
	}
	focus = {
		id = SOTN_EconomyTradeRiver
		icon = GFX_SOTN_EconomyTradeRiver
		cost = 1
		x = -3
		y = 3
		relative_position_id = SOTN_EconomyBudget
		prerequisite = {
			focus = SOTN_EconomyIntegrateCommission
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_EconomyTradeRiver"	
		}
	}
	focus = {
		id = SOTN_EconomyNationalBank
		icon = GFX_SOTN_EconomyNationalBank
		cost = 1
		x = -2
		y = 5
		relative_position_id = SOTN_EconomyBudget
		prerequisite = {
			focus = SOTN_EconomyIntegrateCommission
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_EconomyNationalBank"	
		}
	}
	focus = {
		id = SOTN_EconomyInvestors
		icon = GFX_SOTN_EconomyInvestors
		cost = 1
		x = -3
		y = 6
		relative_position_id = SOTN_EconomyBudget
		prerequisite = {
			focus = SOTN_EconomyNationalBank
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_EconomyInvestors"	
		}
	}
	focus = {
		id = SOTN_AgrarianEconomy
		icon = GFX_SOTN_AgrarianEconomy
		cost = 1
		x = -1
		y = 7
		relative_position_id = SOTN_EconomyBudget
		prerequisite = {
			focus = SOTN_EconomyNationalBank
		}
		available = {
			if = {
				limit = {
					OR = {
						has_completed_focus = SOTN_FamineIsOver
						has_idea = SOTN_FamineInTheNeighle
					}
				}
				has_completed_focus = SOTN_FamineIsOver
			}
			else = {
				has_completed_focus = SOTN_LandReform
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_AgrarianEconomy"	
		}
		mutually_exclusive = {
			focus = SOTN_IndustrialEconomy
		}
	}
	focus = {
		id = SOTN_IndustrialEconomy
		icon = GFX_SOTN_IndustrialEconomy
		cost = 1
		x = 1
		y = 7
		relative_position_id = SOTN_EconomyBudget
		prerequisite = {
			focus = SOTN_TechnicalEducation
		}
		available = {
			if = {
				limit = {
					OR = {
						has_completed_focus = SOTN_FamineIsOver
						has_idea = SOTN_FamineInTheNeighle
					}
				}
				has_completed_focus = SOTN_FamineIsOver
			}
			else = {
				has_completed_focus = SOTN_LandReform
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_IndustrialEconomy"	
		}
		mutually_exclusive = {
			focus = SOTN_AgrarianEconomy
		}
	}
	focus = {
		id = SOTN_ModernisedIndustry
		icon = GFX_SOTN_ModernisedIndustry
		cost = 1
		x = 0
		y = 6
		relative_position_id = SOTN_EconomyBudget
		prerequisite = {
			focus = SOTN_TechnicalEducation
			focus = SOTN_EconomyNationalBank
		}
		available = {
			if = {
				limit = {
					OR = {
						has_completed_focus = SOTN_FamineIsOver
						has_idea = SOTN_FamineInTheNeighle
					}
				}
				has_completed_focus = SOTN_FamineIsOver
			}
			else = {
				has_completed_focus = SOTN_LandReform
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_ModernisedIndustry"	
		}
	}
	#The Maregyptian World
	focus = {
		id = SOTN_MaregyptSphereStart
		icon = GFX_SOTN_MaregyptSphereStart
		cost = 1
		x = 11
		y = 0
		relative_position_id = SOTN_KingSpeech
		prerequisite = {
			
		}
		available = {
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_MaregyptSphereStart"	
		}
	}
	focus = {
		id = SOTN_FriendshipMission
		icon = GFX_SOTN_FriendshipMission
		cost = 1
		x = -3
		y = 1
		relative_position_id = SOTN_MaregyptSphereStart
		prerequisite = {
			focus = SOTN_MaregyptSphereStart
		}
		available = {
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_MaregyptSphereStart"	
		}
	}
	focus = {
		id = SOTN_CentraliseAuthority
		icon = GFX_SOTN_CentraliseAuthority
		cost = 1
		x = 0
		y = 3
		relative_position_id = SOTN_MaregyptSphereStart
		prerequisite = {
			focus = SOTN_MaregyptSphereStart
		}
		prerequisite = {
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_CentraliseAuthority"	
		}
	}
	focus = {
		id = SOTN_KingOfZush
		icon = GFX_SOTN_KingOfZush
		cost = 1
		x = -1
		y = 4
		relative_position_id = SOTN_MaregyptSphereStart
		prerequisite = {
			focus = SOTN_CentraliseAuthority
		}
		prerequisite = {
			focus = SOTN_StrengthenKing
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_KingOfZush"	
		}
		mutually_exclusive = {
			focus = SOTN_SouthAutonomy
		}
	}
	focus = {
		id = SOTN_AttackTimbucktu
		icon = GFX_SOTN_AttackTimbucktu
		cost = 1
		x = -1
		y = 5
		relative_position_id = SOTN_MaregyptSphereStart
		prerequisite = {
			focus = SOTN_KingOfZush
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_AttackTimbucktu"	
		}
	}
	focus = {
		id = SOTN_SouthAutonomy
		icon = GFX_SOTN_SouthAutonomy
		cost = 1
		x = 2
		y = 4
		relative_position_id = SOTN_MaregyptSphereStart
		prerequisite = {
			focus = SOTN_CentraliseAuthority
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_SouthAutonomy"	
		}
		mutually_exclusive = {
			focus = SOTN_KingOfZush
		}
	}
	focus = {
		id = SOTN_TakeAlwani
		icon = GFX_SOTN_TakeAlwani
		cost = 1
		x = 1
		y = 5
		relative_position_id = SOTN_MaregyptSphereStart
		prerequisite = {
			focus = SOTN_KingOfZush
			focus = SOTN_SouthAutonomy
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_TakeAlwani"	
		}
	}
	focus = {
		id = SOTN_PacifySineighi
		icon = GFX_SOTN_PacifySineighi
		cost = 1
		x = 1
		y = 1
		relative_position_id = SOTN_MaregyptSphereStart
		prerequisite = {
			focus = SOTN_MaregyptSphereStart
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_PacifySineighi"		
		}
	}
	focus = {
		id = SOTN_TakeKlugTown
		icon = GFX_SOTN_TakeKlugTown
		cost = 1
		x = 3
		y = 1
		relative_position_id = SOTN_MaregyptSphereStart
		prerequisite = {
			focus = SOTN_MaregyptSphereStart
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_TakeKlugTown"		
		}
	}
	focus = {
		id = SOTN_TreatyOfColtoba
		icon = GFX_SOTN_TreatyOfColtoba
		cost = 1
		x = 5
		y = 2
		relative_position_id = SOTN_MaregyptSphereStart
		prerequisite = {
			focus = SOTN_ManephisAccords
		}
		available = {
			ABY = {
				exists = yes
				is_subject = no
				NOT = {
					has_war_with = ROOT
				}
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_TreatyOfColtoba"
			add_stability = 0.05
			remove_opinion_modifier = {
				target = ABY
				modifier = distrustful_relations
			}
			every_owned_state = {
				limit = {
					is_claimed_by = ABY
				}
				remove_claim_by = ABY
			}
			ABY = {
				remove_opinion_modifier = {
					target = MGY
					modifier = distrustful_relations
				}
				every_owned_state = {
					limit = {
						is_claimed_by = ROOT
					}
					remove_claim_by = ROOT
				}
			}	
		}
		mutually_exclusive = {
			focus = SOTN_MaregyptIrrenditism
		}
	}
	focus = {
		id = SOTN_GreenBayControl
		icon = GFX_SOTN_GreenBayControl
		cost = 1
		dynamic = yes
		x = -1
		y = 1
		relative_position_id = SOTN_MaregyptSphereStart
		prerequisite = {
			focus = SOTN_MaregyptSphereStart
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_GreenBayControl"		
		}
	}
	focus = {
		id = SOTN_EyeOfStorm
		icon = GFX_SOTN_EyeOfStorm
		cost = 1
		x = 7
		y = 0
		relative_position_id = SOTN_MaregyptSphereStart
		prerequisite = {

		}
		available = {
			OR = {
				SOTN_PotentialNorthZebricanWar_trigger = yes
				SOTN_PotentialEquusWar_trigger = yes
				threat > 0.1
			}
		}
		bypass = {
			has_war = yes
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_EyeOfStorm"	
		}
	}
	focus = {
		id = SOTN_ManephisAccords
		icon = GFX_SOTN_ManephisAccords
		cost = 1
		x = 5
		y = 1
		relative_position_id = SOTN_MaregyptSphereStart
		prerequisite = {
			focus = SOTN_EyeOfStorm
			focus = SOTN_MaregyptSphereStart
		}
		prerequisite = {
		}
		available = {
			is_subject = no
			NOT = {
				is_in_faction = yes
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_ManephisAccords"	
			create_faction = "Manephis Accords"
			add_political_power = 50
		}
	}
	focus = {
		id = SOTN_InterveneZumidia
		icon = GFX_SOTN_InterveneZumidia
		cost = 1
		x = 0
		y = 2
		relative_position_id = SOTN_EyeOfStorm
		prerequisite = {
			focus = SOTN_ManephisAccords
		}
		prerequisite = {
			focus = SOTN_EyeOfStorm
		}
		available = {
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_InterveneZumidia"	
		}
		mutually_exclusive = {
			focus = SOTN_ArmedNeutrality
		}
	}
	focus = {
		id = SOTN_ArmedNeutrality
		icon = GFX_SOTN_ArmedNeutrality
		cost = 1
		x = 2
		y = 2
		relative_position_id = SOTN_EyeOfStorm
		prerequisite = {
			focus = SOTN_EyeOfStorm
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_ArmedNeutrality"	
		}
		mutually_exclusive = {
			focus = SOTN_InterveneZumidia
		}
	}
	focus = {
		id = SOTN_SupportHarmonicResistance
		icon = GFX_SOTN_SupportHarmonicResistance
		cost = 1
		x = 3
		y = 3
		relative_position_id = SOTN_EyeOfStorm
		prerequisite = {
			focus = SOTN_ArmedNeutrality
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_SupportHarmonicResistance"	
		}
		mutually_exclusive = {
			focus = SOTN_InterveneZumidia
		}
	}
	focus = {
		id = SOTN_HomeDefence
		icon = GFX_SOTN_HomeDefence
		cost = 1
		x = 1
		y = 3
		relative_position_id = SOTN_EyeOfStorm
		prerequisite = {
			focus = SOTN_ArmedNeutrality
			focus = SOTN_InterveneZumidia
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_HomeDefence"	
		}
	}
	focus = {
		id = SOTN_ZebricanAmbitions
		icon = GFX_SOTN_ZebricanAmbitions
		cost = 1
		x = 0
		y = 4
		relative_position_id = SOTN_EyeOfStorm
		prerequisite = {
			focus = SOTN_InterveneZumidia
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_ZebricanAmbitions"	
		}
	}
	focus = {
		id = SOTN_HarmonyShield
		icon = GFX_SOTN_HarmonyShield
		cost = 1
		x =0
		y = 5
		relative_position_id = SOTN_EyeOfStorm
		prerequisite = {
			focus = SOTN_ZebricanAmbitions
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_HarmonyShield"	
		}
		mutually_exclusive = {
			focus = SOTN_SetyiPlan
		}
	}
	focus = {
		id = SOTN_SetyiPlan
		icon = GFX_SOTN_SetyiPlan
		cost = 1
		x = 2
		y = 5
		relative_position_id = SOTN_EyeOfStorm
		prerequisite = {
			focus = SOTN_ZebricanAmbitions
			focus = SOTN_ArmedNeutrality
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_SetyiPlan"	
		}
		mutually_exclusive = {
			focus = SOTN_HarmonyShield
		}
	}
	focus = {
		id = SOTN_SharedResearch
		icon = GFX_SOTN_SharedResearch
		cost = 1
		x = -1
		y = 3
		relative_position_id = SOTN_EyeOfStorm
		prerequisite = {
			focus = SOTN_ManephisAccords
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_SharedResearch"	
		}
	}
	focus = {
		id = SOTN_CanterlotIntervention
		icon = GFX_SOTN_CanterlotIntervention
		cost = 1
		x = 1
		y = 1
		relative_position_id = SOTN_EyeOfStorm
		prerequisite = {
			focus = SOTN_EyeOfStorm
		}
		available = {
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_CanterlotIntervention"	
		}
	}
	focus = {
		id = SOTN_MaregyptIrrenditism
		icon = GFX_SOTN_MaregyptIrrenditism
		cost = 1
		x = 2
		y = 2
		relative_position_id = SOTN_MaregyptSphereStart
		will_lead_to_war_with = ABY
		prerequisite = {
			focus = SOTN_TakeKlugTown
			focus = SOTN_PacifySineighi
		}
		available = {
			ABY = {
				exists = yes
				is_subject = no
				NOT = {
					has_war_with = ROOT
				}
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_MaregyptIrrenditism"
			add_war_support = 0.05
			create_wargoal = {
				target = ABY
				type = annex_everything
			}
		}
		mutually_exclusive = {
			focus = SOTN_TreatyOfColtoba
		}
	}
	focus = {
		id = SOTN_MutualFriendshipTreaty
		icon = GFX_SOTN_MutualFriendshipTreaty
		cost = 1
		x = 4
		y = 3
		relative_position_id = SOTN_MaregyptSphereStart
		prerequisite = {
			focus = SOTN_TreatyOfColtoba
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_MutualFriendshipTreaty"	
		}
	}
	#
	# Post-Reform Focus Tree. Harmonic Paths.
	#
	focus = {
		id = SOTN_HarmonicReformWin
		icon = GFX_goal_unknown
		cost = 1
		x = 0
		y = 3
		relative_position_id = SOTN_MaregyptRenaissance
		prerequisite = {
			
		}
		available = {
			has_completed_focus = SOTN_MaregyptRenaissance
			OR = {
				SOTN_HasShaaDoof_Vizier_trigger = yes
				SOTN_HasNeighkt_Vizier_trigger = yes
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_HarmonicReformWin"	
		}
		allow_branch = {
			
		}
	}
	focus = {
		id = SOTN_HarmonicLiberalism
		icon = GFX_goal_unknown
		cost = 1
		x = -2
		y = 1
		relative_position_id = SOTN_HarmonicReformWin
		prerequisite = {
			focus = SOTN_HarmonicReformWin
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_HarmonicLiberalism"	
		}
		allow_branch = {
			
		}
	}
	focus = {
		id = SOTN_EntrenchedLiberties
		icon = GFX_goal_unknown
		cost = 1
		x = 0
		y = 2
		relative_position_id = SOTN_HarmonicLiberalism
		prerequisite = {
			focus = SOTN_HarmonicLiberalism
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_EntrenchedLiberties"	
		}
		allow_branch = {
		}
	}
	focus = {
		id = SOTN_HarmonyNotEquality
		icon = GFX_goal_unknown
		cost = 1
		x = -1
		y = 1
		relative_position_id = SOTN_HarmonicLiberalism
		prerequisite = {
			focus = SOTN_HarmonicLiberalism
		}
		available = {
			NOT = {
				has_completed_focus = SOTN_OpenSociety
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_HarmonyNotEquality"	
		}
		allow_branch = {
		}
	}
	focus = {
		id = SOTN_ReconcileTheCentre
		icon = GFX_goal_unknown
		cost = 1
		x = -3
		y = 1
		relative_position_id = SOTN_HarmonicLiberalism
		prerequisite = {
			focus = SOTN_HarmonicLiberalism
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_ReconcileTheCentre"	
		}
		allow_branch = {
		}
	}
	focus = {
		id = SOTN_NewEconomicPolicies
		icon = GFX_goal_unknown
		cost = 1
		x = -3
		y = 3
		relative_position_id = SOTN_HarmonicLiberalism
		prerequisite = {
			focus = SOTN_ReconcileTheCentre
		}
		available = {
			OR = {
				has_completed_focus = SOTN_LiftTheBan
				has_country_leader = {
					character = SOTN_character_Narmare
					ruling_only = yes
				}
				has_country_leader = {
					character = SOTN_character_NeighSer
					ruling_only = yes
				}
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_LiftTheBan"	
		}
		mutually_exclusive = {
			focus = SOTN_FriendshipReignited
		}
		allow_branch = {
		}
	}
	focus = {
		id = SOTN_ModerateSocialReform
		icon = GFX_goal_unknown
		cost = 1
		x = -4
		y = 2
		relative_position_id = SOTN_HarmonicLiberalism
		prerequisite = {
			focus = SOTN_ReconcileTheCentre
		}
		available = {
			has_completed_focus = SOTN_OpenSociety
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_ModerateSocialReform"	
		}
		allow_branch = {
		}
	}
	focus = {
		id = SOTN_LiftTheBan
		icon = GFX_goal_unknown
		cost = 1
		x = -5
		y = 3
		relative_position_id = SOTN_HarmonicLiberalism
		prerequisite = {
			focus = SOTN_ModerateSocialReform
		}
		available = {
			has_completed_focus = SOTN_OpenSociety
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_LiftTheBan"	
		}
		allow_branch = {
		}
	}
	focus = {
		id = SOTN_CivilService
		icon = GFX_goal_unknown
		cost = 1
		x = -2
		y = 2
		relative_position_id = SOTN_HarmonicLiberalism
		prerequisite = {
			focus = SOTN_ReconcileTheCentre
		}
		available = {
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_ModerateSocialReform"	
		}
		allow_branch = {
		}
	}
	focus = {
		id = SOTN_FriendshipReignited
		icon = GFX_goal_unknown
		cost = 1
		x = -1
		y = 3
		relative_position_id = SOTN_HarmonicLiberalism
		prerequisite = {
			focus = SOTN_ReconcileTheCentre
		}
		prerequisite = {
			focus = SOTN_EntrenchedLiberties
		}
		available = {
			OR = {
				has_completed_focus = SOTN_ModerateSocialReform
				has_completed_focus = SOTN_HarmonyNotEquality
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_EntrenchedLiberties"	
		}
		mutually_exclusive = {
			focus = SOTN_NewEconomicPolicies
		}
		allow_branch = {
		}
	}
	focus = {
		id = SOTN_DefangNobility
		icon = GFX_goal_unknown
		cost = 1
		x = 1
		y = 1
		relative_position_id = SOTN_HarmonicLiberalism
		prerequisite = {
			focus = SOTN_HarmonicLiberalism
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_DefangNobility"	
		}
		allow_branch = {
		}
		mutually_exclusive = {
			focus = SOTN_CollaborateWitAristocrats
		}
	}
	focus = {
		id = SOTN_AbolishTitulatures
		icon = GFX_goal_unknown
		cost = 1
		x = 2
		y = 2
		relative_position_id = SOTN_HarmonicLiberalism
		prerequisite = {
			focus = SOTN_DefangNobility
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_AbolishTitulatures"	
		}
		allow_branch = {
		}
		mutually_exclusive = {
		}
	}
	focus = {
		id = SOTN_CollaborateWitAristocrats
		icon = GFX_goal_unknown
		cost = 1
		x = -1
		y = 1
		relative_position_id = SOTN_OldOrder
		prerequisite = {
			focus = SOTN_HarmonicLiberalism
			focus = SOTN_OldOrder
		}
		available = {
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_CollaborateWitAristocrats"	
		}
		allow_branch = {
		}
		mutually_exclusive = {
			focus = SOTN_DefangNobility
		}
	}
	focus = {
		id = SOTN_OldOrder
		icon = GFX_goal_unknown
		cost = 1
		x = 2
		y = 1
		relative_position_id = SOTN_HarmonicReformWin
		prerequisite = {
			focus = SOTN_HarmonicReformWin
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_OldOrder"	
		}
		allow_branch = {
			
		}
	}
	focus = {
		id = SOTN_AdvisoryConcil
		icon = GFX_goal_unknown
		cost = 1
		x = 2
		y = 1
		relative_position_id = SOTN_OldOrder
		prerequisite = {
			focus = SOTN_OldOrder
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_AbolishViziership"	
		}
		allow_branch = {
			
		}
		mutually_exclusive = {
		}
	}
	focus = {
		id = SOTN_HarmonyThroughOrder
		icon = GFX_goal_unknown
		cost = 1
		x = 4
		y = 1
		relative_position_id = SOTN_OldOrder
		prerequisite = {
			focus = SOTN_OldOrder
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_HarmonyThroughOrder"	
		}
		allow_branch = {
			
		}
	}
	focus = {
		id = SOTN_AgrarianConcessions
		icon = GFX_goal_unknown
		cost = 1
		x = 5
		y = 2
		relative_position_id = SOTN_OldOrder
		prerequisite = {
			focus = SOTN_HarmonyThroughOrder
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_AgrarianConcessions"	
		}
		allow_branch = {
			
		}
	}
	focus = {
		id = SOTN_NoMoreSupremacy
		icon = GFX_goal_unknown
		cost = 1
		x = 6
		y = 3
		relative_position_id = SOTN_OldOrder
		prerequisite = {
			focus = SOTN_AgrarianConcessions
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_NoMoreSupremacy"	
		}
		mutually_exclusive = {
			focus = SOTN_BanSocialists
		}
		allow_branch = {
			
		}
	}
	focus = {
		id = SOTN_AbolishViziership
		icon = GFX_goal_unknown
		cost = 1
		x = 1
		y = 2
		relative_position_id = SOTN_OldOrder
		prerequisite = {
			focus = SOTN_AdvisoryConcil
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_AbolishViziership"	
		}
		allow_branch = {
			
		}
	}
	focus = {
		id = SOTN_AnnullParties
		icon = GFX_goal_unknown
		cost = 1
		x = 3
		y = 2
		relative_position_id = SOTN_OldOrder
		prerequisite = {
			focus = SOTN_AdvisoryConcil
		}
		prerequisite = {
			focus = SOTN_HarmonyThroughOrder
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_AnnullParties"	
		}
		allow_branch = {
			
		}
	}
	focus = {
		id = SOTN_TheNewSun
		icon = GFX_goal_unknown
		cost = 1
		x = 2
		y = 3
		relative_position_id = SOTN_OldOrder
		prerequisite = {
			focus = SOTN_AnnullParties
		}
		prerequisite = {
			focus = SOTN_AbolishViziership
		}
		available = {
			OR = {
				AND = {
					democratic > 0.5
					# TODO add balance of power here
				}
				AND = {
					has_completed_focus = SOTN_BanSocialists
					communism < 0.1
				}
				AND = {
					has_completed_focus = SOTN_NoMoreSupremacy
					fascism < 0.1
				}
			}
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_TheNewSun"	
		}
		allow_branch = {
			
		}
	}
	focus = {
		id = SOTN_BanSocialists
		icon = GFX_goal_unknown
		cost = 1
		x = 4
		y = 3
		relative_position_id = SOTN_OldOrder
		prerequisite = {
			focus = SOTN_AgrarianConcessions
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_BanSocialists"	
		}
		mutually_exclusive = {
			focus = SOTN_NoMoreSupremacy
		}
		allow_branch = {
			
		}
	}
	focus = {
		id = SOTN_PurifiedAdministration
		icon = GFX_goal_unknown
		cost = 1
		x = 1
		y = 4
		relative_position_id = SOTN_HarmonicReformWin
		prerequisite = {
			focus = SOTN_AbolishTitulatures
			focus = SOTN_AbolishViziership
		}
		available = {
			
		}
		bypass = {
			
		}
		select_effect = {
			
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOTN_PurifiedAdministration"	
		}
		allow_branch = {
			
		}
	}
}